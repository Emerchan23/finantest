{
  "tech_stack": [
    "TypeScript",
    "Next.js 15.2.4",
    "React 19",
    "SQLite",
    "Better-SQLite3",
    "Tailwind CSS",
    "Radix UI",
    "Shadcn/ui",
    "Node.js",
    "Docker",
    "Nodemailer"
  ],
  "features": [
    {
      "name": "Health Check API",
      "description": "Endpoint para verificar status da aplicação",
      "files": ["app/api/health/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/health": {
            "get": {
              "summary": "Health check endpoint",
              "responses": {
                "200": {
                  "description": "Application is healthy",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "ok": {"type": "boolean"},
                          "timestamp": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Gestão de Empresas",
      "description": "CRUD completo para empresas com suporte multi-tenant",
      "files": ["app/api/empresas/route.ts", "app/api/empresas/[id]/route.ts", "app/api/empresa-config/[id]/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/empresas": {
            "get": {
              "summary": "Listar todas as empresas",
              "responses": {
                "200": {
                  "description": "Lista de empresas",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {"type": "string"},
                            "nome": {"type": "string"},
                            "created_at": {"type": "string"}
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "post": {
              "summary": "Criar nova empresa",
              "requestBody": {
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "nome": {"type": "string"}
                      }
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Empresa criada",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Gestão de Clientes",
      "description": "CRUD completo para clientes com isolamento por empresa",
      "files": ["app/api/clientes/route.ts", "app/api/clientes/[id]/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/clientes": {
            "get": {
              "summary": "Listar clientes da empresa atual",
              "responses": {
                "200": {
                  "description": "Lista de clientes",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {"type": "string"},
                            "nome": {"type": "string"},
                            "documento": {"type": "string"},
                            "endereco": {"type": "string"},
                            "telefone": {"type": "string"},
                            "email": {"type": "string"},
                            "createdAt": {"type": "string"}
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "post": {
              "summary": "Criar novo cliente",
              "requestBody": {
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "nome": {"type": "string"},
                        "documento": {"type": "string"},
                        "endereco": {"type": "string"},
                        "telefone": {"type": "string"},
                        "email": {"type": "string"}
                      }
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Cliente criado",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Gestão de Produtos",
      "description": "CRUD completo para produtos com isolamento por empresa",
      "files": ["app/api/produtos/route.ts", "app/api/produtos/[id]/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/produtos": {
            "get": {
              "summary": "Listar produtos da empresa atual",
              "responses": {
                "200": {
                  "description": "Lista de produtos",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {"type": "string"},
                            "nome": {"type": "string"},
                            "preco": {"type": "number"},
                            "categoria": {"type": "string"},
                            "created_at": {"type": "string"}
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "post": {
              "summary": "Criar novo produto",
              "requestBody": {
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "nome": {"type": "string"},
                        "preco": {"type": "number"},
                        "categoria": {"type": "string"}
                      }
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Produto criado",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Gestão de Vendas",
      "description": "Sistema completo de vendas com relacionamento entre clientes, produtos e empresas",
      "files": ["app/api/vendas/route.ts", "app/api/vendas/[id]/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/vendas": {
            "get": {
              "summary": "Listar vendas com dados relacionados",
              "responses": {
                "200": {
                  "description": "Lista de vendas",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {"type": "string"},
                            "cliente_id": {"type": "string"},
                            "produto_id": {"type": "string"},
                            "quantidade": {"type": "number"},
                            "preco_unitario": {"type": "number"},
                            "total": {"type": "number"},
                            "empresa_id": {"type": "string"},
                            "cliente_nome": {"type": "string"},
                            "produto_nome": {"type": "string"},
                            "empresa_nome": {"type": "string"}
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "post": {
              "summary": "Criar nova venda",
              "requestBody": {
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "cliente_id": {"type": "string"},
                        "produto_id": {"type": "string"},
                        "quantidade": {"type": "number"},
                        "preco_unitario": {"type": "number"},
                        "empresa_id": {"type": "string"}
                      }
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Venda criada",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Sistema de Orçamentos",
      "description": "Criação e gestão de orçamentos com itens e envio por email",
      "files": ["app/api/orcamentos/route.ts", "app/api/orcamentos/[id]/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/orcamentos": {
            "get": {
              "summary": "Listar orçamentos",
              "parameters": [
                {
                  "name": "incluir_itens",
                  "in": "query",
                  "schema": {"type": "boolean"}
                }
              ],
              "responses": {
                "200": {
                  "description": "Lista de orçamentos"
                }
              }
            },
            "post": {
              "summary": "Criar novo orçamento",
              "responses": {
                "200": {
                  "description": "Orçamento criado"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Sistema de Email",
      "description": "Envio de emails via SMTP com configuração dinâmica",
      "files": ["app/api/email/send/route.ts", "app/api/email/test-connection/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/email/send": {
            "post": {
              "summary": "Enviar email",
              "requestBody": {
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "to": {"type": "string"},
                        "subject": {"type": "string"},
                        "html": {"type": "string"}
                      }
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Email enviado com sucesso"
                }
              }
            }
          },
          "/api/email/test-connection": {
            "post": {
              "summary": "Testar conexão SMTP",
              "responses": {
                "200": {
                  "description": "Conexão testada"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Dashboard e Relatórios",
      "description": "APIs para dashboard com métricas, alertas e séries temporais",
      "files": ["app/api/dashboard/summary/route.ts", "app/api/dashboard/totals/route.ts", "app/api/dashboard/alerts/route.ts", "app/api/dashboard/series/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/dashboard/summary": {
            "get": {
              "summary": "Resumo do dashboard",
              "responses": {
                "200": {
                  "description": "Dados de resumo"
                }
              }
            }
          },
          "/api/dashboard/totals": {
            "get": {
              "summary": "Totais do dashboard",
              "responses": {
                "200": {
                  "description": "Dados de totais"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Sistema de Backup",
      "description": "Exportação e importação de dados do sistema",
      "files": ["app/backup/export/page.tsx", "app/backup/import/page.tsx"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/backup/export": {
            "get": {
              "summary": "Exportar dados do sistema",
              "responses": {
                "200": {
                  "description": "Dados exportados"
                }
              }
            }
          },
          "/backup/import": {
            "post": {
              "summary": "Importar dados para o sistema",
              "responses": {
                "200": {
                  "description": "Dados importados"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Gestão de Despesas Pendentes",
      "description": "CRUD para despesas pendentes",
      "files": ["app/api/despesas-pendentes/route.ts", "app/api/despesas-pendentes/[id]/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/despesas-pendentes": {
            "get": {
              "summary": "Listar despesas pendentes",
              "responses": {
                "200": {
                  "description": "Lista de despesas pendentes"
                }
              }
            },
            "post": {
              "summary": "Criar despesa pendente",
              "responses": {
                "200": {
                  "description": "Despesa criada"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Sistema de Acertos",
      "description": "Gestão de acertos financeiros",
      "files": ["app/api/acertos/route.ts", "app/api/acertos/[id]/route.ts"],
      "api_doc": {
        "openapi": "3.0.0",
        "paths": {
          "/api/acertos": {
            "get": {
              "summary": "Listar acertos",
              "responses": {
                "200": {
                  "description": "Lista de acertos"
                }
              }
            },
            "post": {
              "summary": "Criar acerto",
              "responses": {
                "200": {
                  "description": "Acerto criado"
                }
              }
            }
          }
        }
      }
    }
  ]
}